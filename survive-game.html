<!DOCTYPE html>
<html lang="en-US">
  <head>
    <div class="header">
      <div class="header-left">
        
      </div>
      </div>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survive Game</title>
    <pre>         _____ _    _ _______      _________      ________ 
        / ____| |  | |  __ \ \    / /_   _\ \    / /  ____|
       | (___ | |  | | |__) \ \  / /  | |  \ \  / /| |__   
        \___ \| |  | |  _  / \ \/ /   | |   \ \/ / |  __|  
        ____) | |__| | | \ \  \  /   _| |_   \  /  | |____ 
       |_____/ \____/|_|  \_\  \/   |_____|   \/   |______|
       </pre>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
    <style>

#homepage-header {
		display: inline-block;
		padding: 8px 16px;
		background-color: #00ff00;
		color: #000;
		font-size: 16px;
		font-weight: bold;
		text-decoration: none;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		margin: 0 auto;
		}
 body {
            background-color: black;
            font-family: 'Special Elite', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            color: green;
        }

        .container {
            width: 80%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .game-inputs {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-inputs input {
            width: 100%;
            background-color: black;
            color: green;
            font-family: monospace;
            border: none;
            border-bottom: 2px solid white;
            padding: 0.5rem;
            box-shadow: 0px 0px 10px white;
        }

        #console {
            width: 80%;
            height: 70%;
            padding: 1rem;
            background-color: black;
            border: 2px solid white;
            overflow-y: scroll;
            box-shadow: 0px 0px 10px white;
            font-family: monospace;
            font-size: 1.2rem;
            white-space: pre-wrap;
        }

        #console p {
            margin: 0;
            padding: 0;
            line-height: 1.5;
        }

        #console p:first-child::before {
            content: '>';
            animation: consoleCursor 1s infinite;
            margin-right: 0.5rem;
        }

        .game-buttons button {
    border: none;
    background-color: black;
    color: green;
    font-family: monospace;
    font-size: 1rem;
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    box-shadow: 0px 0px 10px white;
    cursor: pointer;
}

.game-buttons button:hover {
    background-color: green;
    color: black;
}

        .add-player {
            border: 1px solid white;
            background-color: black;
            color: green;
            font-family: monospace;
            font-size: 1rem;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            box-shadow: 0px 0px 10px white;
            cursor: pointer;
        }

        .add-player:hover {
            background-color: white;
            color: black;
        }

        @keyframes consoleCursor {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        @keyframes typing {
    from { width: 0 }
    to { width: 100% }
    }

    .typing {
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid green;
    animation: typing 1s steps(25) 0s 1 normal both;
    }



    </style>
    <script>
     const players = [];

function displayTypingText(text, element) {
  const characters = text.split('');
  let i = 0;

  function type() {
    if (i < characters.length) {
      element.innerHTML += characters[i];
      i++;
      setTimeout(type, 100);
    }
  }

  type();
}

function addPlayer() {
  const playerName = document.getElementById("playerName").value;
  const newPlayer = { name: playerName, alive: true };
  players.push(newPlayer);
  const newLine = document.createElement('p');
  document.getElementById("setupGame").appendChild(newLine);
  displayTypingText(`${playerName} has joined the game`, newLine);
}

async function setupGame() {
  const names = ["Elon Musk", "Ghandi", "The Horse", "Obama"].sort(() => Math.random() - 0.5);
  const weapons = ["a knife üî™", "a gun üî´", "a sword üó°Ô∏è", "a boat üö§"].sort(() => Math.random() - 0.5);
  const actions = ["has sex with ", "kill ", "joins ", "attacks "].sort(() => Math.random() - 0.5);

  players.push(...names.map(name => ({ name, alive: true })));

  while (players.filter(p => p.alive).length > 1) {
    const alivePlayers = players.filter(p => p.alive);
    const playerIndex = Math.floor(Math.random() * alivePlayers.length);
    const player = alivePlayers[playerIndex];

    const actionIndex = Math.floor(Math.random() * actions.length);
    const action = actions[actionIndex];
    const alivePlayersWithoutCurrent = alivePlayers.filter(p => p.name !== player.name);
    const targetIndex = Math.floor(Math.random() * alivePlayersWithoutCurrent.length);
    const target = alivePlayersWithoutCurrent[targetIndex];

    const newLine = document.createElement('p');
    document.getElementById("setupGame").appendChild(newLine);

    switch (action) {
      case "kill ":
        if (target.alive) {
          target.alive = false;
          displayTypingText(`${player.name} kills ${target.name} with ${weapons[Math.floor(Math.random() * weapons.length)]}`, newLine);
          if (players.filter(p => p.alive).length === 1) {
            break;
          }
          players.splice(players.indexOf(target), 1);
        } else {
          displayTypingText(`${player.name} tried to kill ${target.name}, but they were already dead`, newLine);
        }
        break;
      case "attacks ":
        displayTypingText(`${player.name} ${action} ${target.name} with ${weapons[Math.floor(Math.random() * weapons.length)]}`, newLine);
        break;
      default:
        displayTypingText(`${player.name} ${action} ${target.name}`, newLine);
    }

    await new Promise(resolve => setTimeout(resolve, 2000));
  }

  const winner = players.find(p => p.alive);
  const newLine = document.createElement('p');
  document.getElementById("setupGame").appendChild(newLine);
  displayTypingText(`${winner.name} wins! üèÜ`, newLine);
}


function restartGame() {
  document.getElementById("setupGame").innerHTML = "";
  document.getElementById("playerName").value = "";
}

      </script>
      
    </head>
    <body>
      <!-- <h1 style="background-color: rgb(0, 0, 0); color: green; text-align: center; padding: 10px; margin-top: 7px; font-family: 'Special Elite', cursive;"> SURVIVE</h1> -->
      <div class="container">
        <div class="game-inputs">
          <label style="color: green;" for="playerName">Enter player name:</label>
          <input type="text" id="playerName" name="playerName">
        </div>
        <br> 
        <button onclick="addPlayer()" class="add-player">Add players</button>
        <br>
        <div class="game-buttons">
          <button onclick="setupGame()">Click to play! &#128525</button>
          <br>
          <button onclick="restartGame()">Restart Game &#128528</button>
        </div>
      </div>
      <pre id="setupGame" style="color: green;"></pre>
      <div style="background-color: rgb(0, 0, 0); color: green; text-align: center; padding: 10px; margin-top: 7px; font-family: 'Special Elite', cursive;">Written by Rachel Larralde 2023¬©</div>
    </body>
  </html>
